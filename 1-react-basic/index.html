<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Local React Studies</title>
        <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

        <!-- Don't use this in production: -->
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    </head>
    <body>
        <div id="root"></div>
        <script type="text/babel">

            // Component
            const AddButton = () => {
                const [total, setTotal] = React.useState(0);
                return <button onClick={() => setTotal(total + 1)}>Adicionar: {total}</button>
            }

            const MainNav = () => {
                // Component Composition with AddButton inside MainNav
                return <nav>
                    
                    <AddButton />
                    <ul>
                        <li><a href="#">Link 1</a></li>
                        <li><a href="#">Link 2</a></li>
                    </ul>
                </nav>
          }

            const Products = () => {
                const product1 = "Shirt";
                const product2 = "Pants";

                // Inner Function Event
                function handleClick(event) {
                    console.log('Bought: ' + event.target.innerText);
                }

                // Use {} for Javascript expressions or events
                return <div>
                    <button onClick={handleClick}>{product1} - U$ {Math.random() * 100}</button>
                    <button onClick={handleClick}>{product2} - U$ {Math.random() * 100}</button>
                </div>
            }

            // Hooks
            const Purchases = () => {
                const [count, setCount] = React.useState(0); // 0 is initial value
                
                function handleClick() {
                    setCount(count + 1);
                }

                return <div>
                    <button onClick={handleClick}>Buy: {count}</button>
                    <p>Total: {count}</p>
                    <p>Price: U$ {count * 250}</p>
                </div>
            }

            // React Element
            const MyApp = () => {
                return <div>
                    <h1>Hello, world!</h1>
                    <MainNav />
                    <Products />
                    <AddButton />
                    <Purchases />
                </div>;
            }

            const container = document.getElementById('root');
            const root = ReactDOM.createRoot(container);
            root.render(<MyApp />);

        </script>
        <!--
        Note: this page is a great way to try React but it's not suitable for production.
        It slowly compiles JSX with Babel in the browser and uses a large development build of React.

        Read this page for starting a new React project with JSX:
        https://react.dev/learn/start-a-new-react-project

        Read this page for adding React with JSX to an existing project:
        https://react.dev/learn/add-react-to-an-existing-project
        -->
    </body>
</html>